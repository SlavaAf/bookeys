function onePageScroll(e,t){var o={sectionContainer:"section",easing:"ease",animationTime:1e3,pagination:!0,updateURL:!1,keyboard:!0,beforeMove:null,afterMove:null,loop:!1,responsiveFallback:!1},i=Object.extend({},o,t),a=document.querySelector(e),n=document.querySelectorAll(i.sectionContainer),s=n.length,r=0,l=0,c=500,d="",u=document.querySelector("body");this.init=function(){_addClass(a,"onepage-wrapper"),a.style.position="relative";for(var e=0;e<n.length;e++)_addClass(n[e],"ops-section"),n[e].dataset.index=e+1,r+=100,1==i.pagination&&(d+="<li><a data-index='"+(e+1)+"' href='#"+(e+1)+"'></a></li>");if(_swipeEvents(a),document.addEventListener("swipeDown",function(e){_hasClass(u,"disabled-onepage-scroll")||e.preventDefault(),moveUp(a)}),document.addEventListener("swipeUp",function(e){_hasClass(u,"disabled-onepage-scroll")||e.preventDefault(),moveDown(a)}),1==i.pagination){var t=document.createElement("ul");t.setAttribute("class","onepage-pagination"),u.appendChild(t),t.innerHTML=d;var o=document.querySelector(".onepage-pagination").offsetHeight/2*-1;document.querySelector(".onepage-pagination").style.marginTop=o}if(""!=window.location.hash&&"#1"!=window.location.hash&&"#11"!=window.location.hash&&"#12"!=window.location.hash){var s=window.location.hash.replace("#",""),l=document.querySelector(i.sectionContainer+"[data-index='"+s+"']"),c=l.dataset.index;if(_addClass(document.querySelector(i.sectionContainer+"[data-index='"+s+"']"),"active"),_addClass(u,"viewing-page-"+s),1==i.pagination&&_addClass(document.querySelector(".onepage-pagination li a[data-index='"+s+"']"),"active"),l&&(_addClass(l,"active"),1==i.pagination&&_addClass(document.querySelector(".onepage-pagination li a[data-index='"+s+"']"),"active"),u.className=u.className.replace(/\bviewing-page-\d.*?\b/g,""),_addClass(u,"viewing-page-"+c),history.replaceState&&1==i.updateURL)){var p=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+s;history.pushState({},document.title,p)}var h=100*(s-1)*-1;_transformPage(a,i,h,s)}else _addClass(document.querySelector(i.sectionContainer+"[data-index='1']"),"active"),_addClass(u,"viewing-page-1"),1==i.pagination&&_addClass(document.querySelector(".onepage-pagination li a[data-index='1']"),"active");if(_paginationHandler=function(){var e=this.dataset.index;moveTo(a,e)},1==i.pagination)for(var f=document.querySelectorAll(".onepage-pagination li a"),e=0;e<f.length;e++)f[e].addEventListener("click",_paginationHandler);return _mouseWheelHandler=function(e){e.preventDefault();var t=e.wheelDelta||-e.detail;_hasClass(u,"disabled-onepage-scroll")||_init_scroll(e,t)},document.addEventListener("mousewheel",_mouseWheelHandler),document.addEventListener("DOMMouseScroll",_mouseWheelHandler),0!=i.responsiveFallback&&(window.onresize=function(){_responsive()},_responsive()),_keydownHandler=function(e){var t=e.target.tagName.toLowerCase();if(!_hasClass(u,"disabled-onepage-scroll"))switch(e.which){case 38:"input"!=t&&"textarea"!=t&&(document.body.classList.contains("disabled-onepage-scroll1")||moveUp(a));break;case 40:"input"!=t&&"textarea"!=t&&(document.body.classList.contains("disabled-onepage-scroll1")||moveDown(a));break;default:return}return!1},1==i.keyboard&&(document.onkeydown=_keydownHandler),!1},_swipeEvents=function(e){function t(e){var t=e.touches;t&&t.length&&(i=t[0].pageX,a=t[0].pageY,document.addEventListener("touchmove",o))}function o(e){var t=e.touches;if(t&&t.length){e.preventDefault();var n=i-t[0].pageX,s=a-t[0].pageY;if(n>=50){var e=new Event("swipeLeft");document.dispatchEvent(e)}if(n<=-50){var e=new Event("swipeRight");document.dispatchEvent(e)}if(s>=50){var e=new Event("swipeUp");document.dispatchEvent(e)}if(s<=-50){var e=new Event("swipeDown");document.dispatchEvent(e)}(Math.abs(n)>=50||Math.abs(s)>=50)&&document.removeEventListener("touchmove",o)}}var i,a;document.addEventListener("touchstart",t)},_trim=function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_hasClass=function(e,t){return e.className?e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")):e.className=t},_addClass=function(e,t){_hasClass(e,t)||(e.className+=" "+t),e.className=_trim(e.className)},_removeClass=function(e,t){if(_hasClass(e,t)){var o=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(o," ")}e.className=_trim(e.className)},_whichTransitionEvent=function(){var e,t=document.createElement("fakeelement"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(void 0!==t.style[e])return o[e]},_scrollTo=function(e,t,o){if(!(o<0)){var i=t-e.scrollTop,a=i/o*10;setTimeout(function(){e.scrollTop=e.scrollTop+a,e.scrollTop!=t&&_scrollTo(e,t,o-10)},10)}},_transformPage=function(e,t,o,i,a){function n(){"function"==typeof t.afterMove&&t.afterMove(i,a),e.removeEventListener(r,n)}"function"==typeof t.beforeMove&&t.beforeMove(i,a);var s="-webkit-transform: translate3d(0, "+o+"%, 0); -webkit-transition: -webkit-transform "+t.animationTime+"ms "+t.easing+"; -moz-transform: translate3d(0, "+o+"%, 0); -moz-transition: -moz-transform "+t.animationTime+"ms "+t.easing+"; -ms-transform: translate3d(0, "+o+"%, 0); -ms-transition: -ms-transform "+t.animationTime+"ms "+t.easing+"; transform: translate3d(0, "+o+"%, 0); transition: transform "+t.animationTime+"ms "+t.easing+";";e.style.cssText=s;var r=_whichTransitionEvent();e.addEventListener(r,n,!1)},_responsive=function(){document.body.clientWidth<i.responsiveFallback?(_addClass(u,"disabled-onepage-scroll"),document.removeEventListener("mousewheel",_mouseWheelHandler),document.removeEventListener("DOMMouseScroll",_mouseWheelHandler),_swipeEvents(a),document.removeEventListener("swipeDown"),document.removeEventListener("swipeUp")):(_hasClass(u,"disabled-onepage-scroll")&&(_removeClass(u,"disabled-onepage-scroll"),_scrollTo(document.documentElement,0,2e3)),_swipeEvents(a),document.addEventListener("swipeDown",function(e){_hasClass(u,"disabled-onepage-scroll")||e.preventDefault(),moveUp(a)}),document.addEventListener("swipeUp",function(e){_hasClass(u,"disabled-onepage-scroll")||e.preventDefault(),moveDown(a)}),document.addEventListener("mousewheel",_mouseWheelHandler),document.addEventListener("DOMMouseScroll",_mouseWheelHandler))},_init_scroll=function(e,t){var o=t,n=(new Date).getTime();return n-l<c+i.animationTime?void e.preventDefault():(o<0?document.body.classList.contains("disabled-onepage-scroll1")||moveDown(a):document.body.classList.contains("disabled-onepage-scroll1")||moveUp(a),void(l=n))},this.moveDown=function(e){"string"==typeof e&&(e=document.querySelector(e));var t=document.querySelector(i.sectionContainer+".active").dataset.index,o=document.querySelector(i.sectionContainer+"[data-index='"+t+"']"),a=document.querySelector(i.sectionContainer+"[data-index='"+(parseInt(t)+1)+"']");if(a)pos=100*t*-1;else{if(1!=i.loop)return;pos=0,a=document.querySelector(i.sectionContainer+"[data-index='1']")}var n=a.dataset.index;_removeClass(o,"active"),_addClass(a,"active"),1==i.pagination&&(_removeClass(document.querySelector(".onepage-pagination li a[data-index='"+t+"']"),"active"),_addClass(document.querySelector(".onepage-pagination li a[data-index='"+n+"']"),"active")),u.className=u.className.replace(/\bviewing-page-\d.*?\b/g,""),_addClass(u,"viewing-page-"+n),history.replaceState&&1==i.updateURL&&doHistory(n),_transformPage(e,i,pos,n,a)},this.moveUp=function(e){"string"==typeof e&&(e=document.querySelector(e));var t=document.querySelector(i.sectionContainer+".active").dataset.index,o=document.querySelector(i.sectionContainer+"[data-index='"+t+"']"),a=document.querySelector(i.sectionContainer+"[data-index='"+(parseInt(t)-1)+"']");if(a)pos=100*(a.dataset.index-1)*-1;else{if(1!=i.loop)return;pos=100*(s-1)*-1,a=document.querySelector(i.sectionContainer+"[data-index='"+s+"']")}var n=a.dataset.index;_removeClass(o,"active"),_addClass(a,"active"),1==i.pagination&&(_removeClass(document.querySelector(".onepage-pagination li a[data-index='"+t+"']"),"active"),_addClass(document.querySelector(".onepage-pagination li a[data-index='"+n+"']"),"active")),u.className=u.className.replace(/\bviewing-page-\d.*?\b/g,""),_addClass(u,"viewing-page-"+n),history.replaceState&&1==i.updateURL&&doHistory(n),_transformPage(e,i,pos,n,a)},this.moveTo=function(e,t){"string"==typeof e&&(e=document.querySelector(e));var o=document.querySelector(i.sectionContainer+".active"),a=document.querySelector(i.sectionContainer+"[data-index='"+t+"']");if(console.log,a){var n=a.dataset.index;_removeClass(o,"active"),_addClass(a,"active"),_removeClass(document.querySelector(".onepage-pagination li a.active"),"active"),_addClass(document.querySelector(".onepage-pagination li a[data-index='"+t+"']"),"active"),u.className=u.className.replace(/\bviewing-page-\d.*?\b/g,""),_addClass(u,"viewing-page-"+n),pos=100*(t-1)*-1,_transformPage(e,i,pos,t,a),doHistory(n)}},this.init()}var title=document.title,description=document.getElementsByName("description")[0],data_site=[{url:"",title:"Биотехнология очистки теплового оборудования «Бонака»",description:"Глубокая и экологичная очистка оборудования бактериями от накипи и шлама. Эффективность 98%. Для котлов, теплообменников, отопительных систем, выпаривателей и подогревателей."},{url:"heat_generation",title:"Теплогенерация | Бонака",description:"Восстановление паспортных значений теплового оборудования. Биораствор «Бонака» очистит котёл и теплообменник от накипи и шлама на 98%. За несколько дней приведём оборудование в состояние согласно паспорту."},{url:"process",title:"Процесс | Бонака",description:"Процесс полной очистки оборудования от накипи и шлама. Анализируем загрязнённый фрагмент оборудования, подбираем раствор, подключаем систему, очищаем оборудования до первоначального состояния и гордимся результатом."},{url:"comparing",title:"Сравнение | Бонака",description:"Сравнение очистки биораствором «Бонака» с другими методами. Биотехнология «Бонака» удаляет отложения на 98%, безвредна для материалов, экологична, не требует специальной утилизации, образует защитную плёнку."},{url:"feedback",title:"Отзывы | Бонака",description:"Любая критика неуместна, когда до меня председатель мучал жильцов несколько лет, собирал на капремонт какие-то сумасшедшие суммы, а тут за 3 дня температура пришла в норму. Эффективность проведённой работы соответствует установленным договором требованиям. Степень очистки составила 99%. Теплосъем оборудования увеличен на 25%"},{url:"request",title:"Запрос на очистку | Бонака",description:"Котёл, теплообменник, система отопления — оформить запрос на очистку оборудования от накипи и шлама с помощью бактериального биораствора «Бонака»."}],data_site2=[{url:"heat_generation",title:"Теплогенерация | Бонака",description:"Восстановление паспортных значений теплового оборудования. Биораствор «Бонака» очистит котёл и теплообменник от накипи и шлама на 98%. За несколько дней приведём оборудование в состояние согласно паспорту."},{url:"heat_consuming",title:"Теплопотребление | Бонака",description:"Тепло во всём доме на всех этажах. Облегчаем работу управляющих компаний и ТСЖ. Отопительное оборудование будет работать как новое. Температура на выходе повышается на 4-7 градусов. Очистка оборудования снижает себестоимость продукции."},{url:"industry",title:"Промышленность | Бонака",description:"После очистки биораствором «Бонака» снижаются затраты на эксплуатацию оборудования. Повышается эффективность производства. Увеличивается срок службы оборудования."}],doHistory=function(e,t){location.hash="",t?window.history.pushState("#"+e+String(t),data_site2[t].title,"/en/"+data_site2[t].url+"/"):window.history.pushState("#"+e,data_site[e].title,"/en/"+data_site[e].url+"/"),doHistoryLogic(e,t)},doHistoryLogic=function(e,t){switch(window.history.state){case"#1":document.title=data_site[1].title,description.content=data_site[1].description,document.querySelector('meta[property="og:title"]').content=data_site[1].title,document.querySelector('meta[property="og:description"]').content=data_site[1].description,document.getElementById("area-1").click(),document.querySelector(".section__img-3").classList.remove("visible"),document.querySelector(".section__img-2").classList.remove("visible"),document.querySelector(".section__img-1").classList.add("visible"),document.querySelector(".section__left").classList.remove("section__left--hover");case"#11":document.title=data_site2[1].title,description.content=data_site2[1].description,document.querySelector('meta[property="og:title"]').content=data_site2[1].title,document.querySelector('meta[property="og:description"]').content=data_site2[1].description,document.getElementById("area-2").click(),document.querySelector(".section__img-3").classList.remove("visible"),document.querySelector(".section__img-1").classList.remove("visible"),document.querySelector(".section__img-2").classList.add("visible");break;case"#12":console.log(t),document.title=data_site2[2].title,description.content=data_site2[2].description,document.querySelector('meta[property="og:title"]').content=data_site2[2].title,document.querySelector('meta[property="og:description"]').content=data_site2[2].description,document.getElementById("area-3").click(),document.querySelector(".section__img-1").classList.remove("visible"),document.querySelector(".section__img-2").classList.remove("visible"),document.querySelector(".section__img-3").classList.add("visible");break;case"#2":document.title=data_site[2].title,description.content=data_site[2].description,document.querySelector('meta[property="og:title"]').content=data_site[2].title,document.querySelector('meta[property="og:description"]').content=data_site[2].description;break;case"#3":document.title=data_site[3].title,description.content=data_site[3].description,document.querySelector('meta[property="og:title"]').content=data_site[3].title,document.querySelector('meta[property="og:description"]').content=data_site[3].description;break;case"#4":document.title=data_site[4].title,description.content=data_site[4].description,document.querySelector('meta[property="og:title"]').content=data_site[4].title,document.querySelector('meta[property="og:description"]').content=data_site[4].description;break;case"#5":document.title=data_site[5].title,description.content=data_site[5].description,document.querySelector('meta[property="og:title"]').content=data_site[5].title,document.querySelector('meta[property="og:description"]').content=data_site[5].description}},doHistoryLogic_index=function(e,t){switch(e){case"#1":document.title=data_site[1].title,description.content=data_site[1].description,document.querySelector('meta[property="og:title"]').content=data_site[1].title,document.querySelector('meta[property="og:description"]').content=data_site[1].description,document.getElementById("area-1").click(),document.querySelector(".section__img-3").classList.remove("visible"),document.querySelector(".section__img-2").classList.remove("visible"),document.querySelector(".section__img-1").classList.add("visible"),document.querySelector(".section__left").classList.remove("section__left--hover");break;case"#11":document.title=data_site2[1].title,description.content=data_site2[1].description,document.querySelector('meta[property="og:title"]').content=data_site2[1].title,document.querySelector('meta[property="og:description"]').content=data_site2[1].description,document.getElementById("area-2").click(),document.querySelector(".section__img-3").classList.remove("visible"),document.querySelector(".section__img-1").classList.remove("visible"),document.querySelector(".section__img-2").classList.add("visible");break;case"#12":console.log(t),document.title=data_site2[2].title,description.content=data_site2[2].description,document.querySelector('meta[property="og:title"]').content=data_site2[2].title,document.querySelector('meta[property="og:description"]').content=data_site2[2].description,document.getElementById("area-3").click(),document.querySelector(".section__img-1").classList.remove("visible"),document.querySelector(".section__img-2").classList.remove("visible"),document.querySelector(".section__img-3").classList.add("visible");break;case"#2":document.title=data_site[2].title,description.content=data_site[2].description,document.querySelector('meta[property="og:title"]').content=data_site[2].title,document.querySelector('meta[property="og:description"]').content=data_site[2].description;break;case"#3":document.title=data_site[3].title,description.content=data_site[3].description,document.querySelector('meta[property="og:title"]').content=data_site[3].title,document.querySelector('meta[property="og:description"]').content=data_site[3].description;break;case"#4":document.title=data_site[4].title,description.content=data_site[4].description,document.querySelector('meta[property="og:title"]').content=data_site[4].title,document.querySelector('meta[property="og:description"]').content=data_site[4].description;break;case"#5":document.title=data_site[5].title,description.content=data_site[5].description,document.querySelector('meta[property="og:title"]').content=data_site[5].title,document.querySelector('meta[property="og:description"]').content=data_site[5].description}};$(document).ready(function(){var e=window.location.hash,t=window.location.pathname,o=e.split("#")[1];if(e){var i=Math.ceil(Math.log10(Math.abs(o)+.5));if(i>1){var a=o%10;doHistory(1,a)}else doHistory(o)}if(t){var n=t.split("/")[1];switch(n){case"heat_generation":doHistoryLogic_index("#1");break;case"heat_consuming":doHistoryLogic_index("#11");break;case"industry":doHistoryLogic_index("#12");break;case"process":doHistoryLogic_index("#2");break;case"comparing":doHistoryLogic_index("#3");break;case"feedback":doHistoryLogic_index("#4");break;case"request":doHistoryLogic_index("#5")}}$(window).bind("hashchange",function(){var e=window.location.hash,t=window.location.pathname,o=e.split("#")[1];if(e)if(t.length>1)window.history.pushState(e,document.title,t);else{var i=Math.ceil(Math.log10(Math.abs(o)+.5));if(i>1){var a=o%10;doHistory(1,a)}else doHistory(o)}});for(var s=document.getElementsByName("area"),r=0;r<s.length;r++)"radio"==s[r].type&&s[r].checked;$("input[name=area]:radio").bind("change click",function(){var e=this.id.split("-")[1];1==e?(console.log(e),window.history.pushState("#1",data_site[1].title,"/"+data_site[1].url+"/"),document.title=data_site[1].title,description.content=data_site[1].description,document.getElementById("area-1").click(),document.querySelector(".section__img-3").classList.remove("visible"),document.querySelector(".section__img-2").classList.remove("visible"),document.querySelector(".section__img-1").classList.add("visible")):2==e?(console.log(e),window.history.pushState("#11",data_site2[1].title,"/"+data_site2[1].url+"/"),document.title=data_site2[1].title,description.content=data_site2[1].description,document.getElementById("area-2").click(),document.querySelector(".section__img-3").classList.remove("visible"),document.querySelector(".section__img-1").classList.remove("visible"),document.querySelector(".section__img-2").classList.add("visible")):(console.log(e),window.history.pushState("#12",data_site2[2].title,"/"+data_site2[2].url+"/"),document.title=data_site2[2].title,description.content=data_site2[2].description,document.getElementById("area-3").click(),document.querySelector(".section__img-2").classList.remove("visible"),document.querySelector(".section__img-1").classList.remove("visible"),document.querySelector(".section__img-3").classList.add("visible"))}),$(".jq-selectbox__select").ready(function(){$(".jq-selectbox__select-text").text(" "),$(".placeholder").css("color","#00dc89")})}),Object.extend=function(e){if(null==e)return e;for(var t=1;t<arguments.length;t++){var o=arguments[t];if(null!=o)for(var i in o){var a=o.__lookupGetter__(i),n=o.__lookupSetter__(i);a||n?(a&&e.__defineGetter__(i,a),n&&e.__defineSetter__(i,n)):e[i]=o[i]}}return e},function(e){e.fn.extend({imageReveal:function(t){function o(e,o){e<0&&(e=0),e>t.width&&(e=t.width),e<t.paddingLeft&&(e=t.paddingLeft),e>t.width-t.paddingRight&&(e=t.width-t.paddingRight),a[o].overlay.width(e);var i=e-t.barWidth/2;if(i<0&&(i=0),i>t.width-t.barWidth&&(i=t.width-t.barWidth),a[o].drag.css({left:i}),t.showCaption){var n=a[o].before.attr("title"),s=a[o].after.attr("title");e>t.width*t.captionChange?n&&""!==n?a[o].caption.text(n).fadeIn(t.captionFade||1e3).data("link",a[o].before.data("link")):a[o].caption.fadeOut(t.captionFade||1e3):s&&""!==s?a[o].caption.text(s).fadeIn(t.captionFade||1e3).data("link",a[o].after.data("link")):a[o].caption.fadeOut(t.captionFade||1e3)}}function i(i){var n=e(this).data("imageRevealID");if(!a[n].dragging&&"click"!==i.type)return!1;var s;return i.originalEvent&&i.originalEvent.changedTouches?(t.touchDevice||(t.touchDevice=!0,t.originalBarWidth=t.barWidth,t.barWidth=parseInt(t.touchBarWidth,10),e.each(t.ids,function(e,o){var i=a[o].drag.position().left-(t.touchBarWidth/2-t.originalBarWidth/2);a[o].drag.width(t.touchBarWidth).css({left:i})})),s=i.originalEvent.changedTouches[0].pageX):s=i.pageX,o(s-a[n].overlay.offset().left,n),!1}var a={};return t=e.extend({},{barWidth:20,touchBarWidth:60,startPosition:.5,paddingLeft:0,paddingRight:0,showCaption:!1,linkCaption:!1,captionChange:.5,width:500,height:500,ids:[]},t),t.ids=[],t.startPosition>1?t.startPosition=1:t.startPosition<0&&(t.startPosition=0),t.captionChange>1?t.captionChange=1:t.captionChange<0&&(t.captionChange=0),this.each(function(i){a[i]={},t.ids.push(i),a[i].container=e(this).addClass("imageReveal").data("imageRevealID",i),a[i].before=a[i].container.children("img").first().width(t.width).height(t.height).hide(),a[i].after=a[i].before.next().width(t.width).height(t.height).hide(),a[i].container.width(t.width).height(t.height).css({overflow:"hidden",position:"relative"}).append('<div class="imageReveal-overlay"></div>').append('<div class="imageReveal-background"></div>').append('<div class="imageReveal-drag"></div>').append('<div class="imageReveal-caption">'+a[i].before.attr("title")+"</div>"),a[i].bg=a[i].container.children(".imageReveal-background").width(t.width).height(t.height).css({"background-image":"url("+a[i].after.attr("src")+")","background-size":t.width+"px "+t.height+"px"}),a[i].caption=a[i].container.children(".imageReveal-caption"),t.showCaption&&a[i].before.attr("title")&&""!==a[i].before.attr("title")?a[i].caption.show():a[i].caption.hide(),t.linkCaption&&a[i].caption.css("cursor","pointer").data("link",a[i].before.data("link")).on("click",function(){return a[i].caption.data("link")&&(window.location=a[i].caption.data("link")),!1}),a[i].overlay=a[i].container.children(".imageReveal-overlay").width(t.width).height(t.height).css({"background-image":"url("+a[i].before.attr("src")+")","background-size":t.width+"px "+t.height+"px"}).animate({width:t.width-t.width*t.startPosition}),a[i].drag=a[i].container.children(".imageReveal-drag").width(t.barWidth).height(t.height).animate({right:t.width*t.startPosition-t.barWidth/2}).on("mousedown touchstart",function(){return a[i].dragging=!0,a[i].drag.addClass("dragging"),!1}).on("mouseup touchend touchcancel",function(){return a[i].dragging=!1,a[i].drag.removeClass("dragging"),!1}),e(document).on("mouseup touchend touchcancel",function(){a[i].dragging&&(a[i].dragging=!1,a[i].drag.removeClass("dragging"))}),a[i].container.on("mouseout",function(e){a[i].dragging&&o(e.pageX-a[i].overlay.offset().left,i)})}).on("mousemove click touchmove",i)}})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var o="function"==typeof define&&define.amd,i="undefined"!=typeof module&&module.exports,a="https:"==document.location.protocol?"https:":"http:",n="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";o||(i?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+a+"//"+n+"%3E%3C/script%3E"))),t()}(function(){var t,o="mCustomScrollbar",i="mCS",a=".mCustomScrollbar",n={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},s=0,r={},l=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(t){var t=e.extend(!0,{},n,t),o=p.call(this);if(t.live){var l=t.liveSelector||this.selector||a,c=e(l);if("off"===t.live)return void f(l);r[l]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&f(l)},500)}else f(l);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":m(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=v(t.scrollButtons.scrollType),h(t),e(o).each(function(){var o=e(this);if(!o.data(i)){o.data(i,{idx:++s,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var a=o.data(i),n=a.opt,r=o.data("mcs-axis"),l=o.data("mcs-scrollbar-position"),c=o.data("mcs-theme");r&&(n.axis=r),l&&(n.scrollbarPosition=l),c&&(n.theme=c,h(n)),g.call(this),a&&n.callbacks.onCreate&&"function"==typeof n.callbacks.onCreate&&n.callbacks.onCreate.call(this),e("#mCSB_"+a.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,o)}})},update:function(t,o){var a=t||p.call(this);return e(a).each(function(){var t=e(this);if(t.data(i)){var a=t.data(i),n=a.opt,s=e("#mCSB_"+a.idx+"_container"),r=e("#mCSB_"+a.idx),l=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")];if(!s.length)return;a.tweenRunning&&$(t),o&&a&&n.callbacks.onBeforeUpdate&&"function"==typeof n.callbacks.onBeforeUpdate&&n.callbacks.onBeforeUpdate.call(this),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),r.css("max-height","none"),r.height()!==t.height()&&r.css("max-height",t.height()),w.call(this),"y"===n.axis||n.advanced.autoExpandHorizontalScroll||s.css("width",_(s)),a.overflowed=C.call(this),B.call(this),n.autoDraggerLength&&y.call(this),x.call(this),q.call(this);var c=[Math.abs(s[0].offsetTop),Math.abs(s[0].offsetLeft)];"x"!==n.axis&&(a.overflowed[0]?l[0].height()>l[0].parent().height()?k.call(this):(V(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),a.contentReset.y=null):(k.call(this),"y"===n.axis?T.call(this):"yx"===n.axis&&a.overflowed[1]&&V(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==n.axis&&(a.overflowed[1]?l[1].width()>l[1].parent().width()?k.call(this):(V(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),a.contentReset.x=null):(k.call(this),"x"===n.axis?T.call(this):"yx"===n.axis&&a.overflowed[0]&&V(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),o&&a&&(2===o&&n.callbacks.onImageLoad&&"function"==typeof n.callbacks.onImageLoad?n.callbacks.onImageLoad.call(this):3===o&&n.callbacks.onSelectorChange&&"function"==typeof n.callbacks.onSelectorChange?n.callbacks.onSelectorChange.call(this):n.callbacks.onUpdate&&"function"==typeof n.callbacks.onUpdate&&n.callbacks.onUpdate.call(this)),Y.call(this)}})},scrollTo:function(t,o){if("undefined"!=typeof t&&null!=t){var a=p.call(this);return e(a).each(function(){var a=e(this);if(a.data(i)){var n=a.data(i),s=n.opt,r={trigger:"external",scrollInertia:s.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=e.extend(!0,{},r,o),c=F.call(this,t),d=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;c[0]=X.call(this,c[0],"y"),c[1]=X.call(this,c[1],"x"),l.moveDragger&&(c[0]*=n.scrollRatio.y,c[1]*=n.scrollRatio.x),l.dur=ae()?0:d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==s.axis&&n.overflowed[0]&&(l.dir="y",l.overwrite="all",V(a,c[0].toString(),l)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==s.axis&&n.overflowed[1]&&(l.dir="x",l.overwrite="none",V(a,c[1].toString(),l))},l.timeout)}})}},stop:function(){var t=p.call(this);return e(t).each(function(){var t=e(this);t.data(i)&&$(t)})},disable:function(t){var o=p.call(this);return e(o).each(function(){var o=e(this);if(o.data(i)){o.data(i);Y.call(this,"remove"),T.call(this),t&&k.call(this),B.call(this,!0),o.addClass(d[3])}})},destroy:function(){var t=p.call(this);return e(t).each(function(){var a=e(this);if(a.data(i)){var n=a.data(i),s=n.opt,r=e("#mCSB_"+n.idx),l=e("#mCSB_"+n.idx+"_container"),c=e(".mCSB_"+n.idx+"_scrollbar");s.live&&f(s.liveSelector||e(t).selector),Y.call(this,"remove"),T.call(this),k.call(this),a.removeData(i),Z(this,"mcs"),c.remove(),l.find("img."+d[2]).removeClass(d[2]),r.replaceWith(l.contents()),a.removeClass(o+" _"+i+"_"+n.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},p=function(){return"object"!=typeof e(this)||e(this).length<1?a:this},h=function(t){var o=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],i=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],a=["minimal","minimal-dark"],n=["minimal","minimal-dark"],s=["minimal","minimal-dark"];t.autoDraggerLength=!(e.inArray(t.theme,o)>-1)&&t.autoDraggerLength,t.autoExpandScrollbar=!(e.inArray(t.theme,i)>-1)&&t.autoExpandScrollbar,t.scrollButtons.enable=!(e.inArray(t.theme,a)>-1)&&t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,n)>-1||t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,s)>-1?"outside":t.scrollbarPosition},f=function(e){r[e]&&(clearTimeout(r[e]),Z(r,e))},m=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},v=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},g=function(){var t=e(this),a=t.data(i),n=a.opt,s=n.autoExpandScrollbar?" "+d[1]+"_expand":"",r=["<div id='mCSB_"+a.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+a.idx+"_scrollbar mCS-"+n.theme+" mCSB_scrollTools_vertical"+s+"'><div class='"+d[12]+"'><div id='mCSB_"+a.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+a.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+a.idx+"_scrollbar mCS-"+n.theme+" mCSB_scrollTools_horizontal"+s+"'><div class='"+d[12]+"'><div id='mCSB_"+a.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===n.axis?"mCSB_vertical_horizontal":"x"===n.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===n.axis?r[0]+r[1]:"x"===n.axis?r[1]:r[0],u="yx"===n.axis?"<div id='mCSB_"+a.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",p=n.autoHideScrollbar?" "+d[6]:"",h="x"!==n.axis&&"rtl"===a.langDir?" "+d[7]:"";
n.setWidth&&t.css("width",n.setWidth),n.setHeight&&t.css("height",n.setHeight),n.setLeft="y"!==n.axis&&"rtl"===a.langDir?"989999px":n.setLeft,t.addClass(o+" _"+i+"_"+a.idx+p+h).wrapInner("<div id='mCSB_"+a.idx+"' class='mCustomScrollBox mCS-"+n.theme+" "+l+"'><div id='mCSB_"+a.idx+"_container' class='mCSB_container' style='position:relative; top:"+n.setTop+"; left:"+n.setLeft+";' dir='"+a.langDir+"' /></div>");var f=e("#mCSB_"+a.idx),m=e("#mCSB_"+a.idx+"_container");"y"===n.axis||n.advanced.autoExpandHorizontalScroll||m.css("width",_(m)),"outside"===n.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),f.addClass("mCSB_outside").after(c)):(f.addClass("mCSB_inside").append(c),m.wrap(u)),b.call(this);var v=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")];v[0].css("min-height",v[0].height()),v[1].css("min-width",v[1].width())},_=function(t){var o=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],i=t.parent().width();return o[0]>i?o[0]:o[1]>i?o[1]:"100%"},w=function(){var t=e(this),o=t.data(i),a=o.opt,n=e("#mCSB_"+o.idx+"_container");if(a.advanced.autoExpandHorizontalScroll&&"y"!==a.axis){n.css({width:"auto","min-width":0,"overflow-x":"scroll"});var s=Math.ceil(n[0].scrollWidth);3===a.advanced.autoExpandHorizontalScroll||2!==a.advanced.autoExpandHorizontalScroll&&s>n.parent().width()?n.css({width:s,"min-width":"100%","overflow-x":"inherit"}):n.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(n[0].getBoundingClientRect().right+.4)-Math.floor(n[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},b=function(){var t=e(this),o=t.data(i),a=o.opt,n=e(".mCSB_"+o.idx+"_scrollbar:first"),s=oe(a.scrollButtons.tabindex)?"tabindex='"+a.scrollButtons.tabindex+"'":"",r=["<a href='#' class='"+d[13]+"' "+s+" />","<a href='#' class='"+d[14]+"' "+s+" />","<a href='#' class='"+d[15]+"' "+s+" />","<a href='#' class='"+d[16]+"' "+s+" />"],l=["x"===a.axis?r[2]:r[0],"x"===a.axis?r[3]:r[1],r[2],r[3]];a.scrollButtons.enable&&n.prepend(l[0]).append(l[1]).next(".mCSB_scrollTools").prepend(l[2]).append(l[3])},y=function(){var t=e(this),o=t.data(i),a=e("#mCSB_"+o.idx),n=e("#mCSB_"+o.idx+"_container"),s=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],r=[a.height()/n.outerHeight(!1),a.width()/n.outerWidth(!1)],c=[parseInt(s[0].css("min-height")),Math.round(r[0]*s[0].parent().height()),parseInt(s[1].css("min-width")),Math.round(r[1]*s[1].parent().width())],d=l&&c[1]<c[0]?c[0]:c[1],u=l&&c[3]<c[2]?c[2]:c[3];s[0].css({height:d,"max-height":s[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),s[1].css({width:u,"max-width":s[1].parent().width()-10})},x=function(){var t=e(this),o=t.data(i),a=e("#mCSB_"+o.idx),n=e("#mCSB_"+o.idx+"_container"),s=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],r=[n.outerHeight(!1)-a.height(),n.outerWidth(!1)-a.width()],l=[r[0]/(s[0].parent().height()-s[0].height()),r[1]/(s[1].parent().width()-s[1].width())];o.scrollRatio={y:l[0],x:l[1]}},S=function(e,t,o){var i=o?d[0]+"_expanded":"",a=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+i),a.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),a.removeClass(d[1])):(e.addClass(d[0]),a.addClass(d[1])))},C=function(){var t=e(this),o=t.data(i),a=e("#mCSB_"+o.idx),n=e("#mCSB_"+o.idx+"_container"),s=null==o.overflowed?n.height():n.outerHeight(!1),r=null==o.overflowed?n.width():n.outerWidth(!1),l=n[0].scrollHeight,c=n[0].scrollWidth;return l>s&&(s=l),c>r&&(r=c),[s>a.height(),r>a.width()]},k=function(){var t=e(this),o=t.data(i),a=o.opt,n=e("#mCSB_"+o.idx),s=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if($(t),("x"!==a.axis&&!o.overflowed[0]||"y"===a.axis&&o.overflowed[0])&&(r[0].add(s).css("top",0),V(t,"_resetY")),"y"!==a.axis&&!o.overflowed[1]||"x"===a.axis&&o.overflowed[1]){var l=dx=0;"rtl"===o.langDir&&(l=n.width()-s.outerWidth(!1),dx=Math.abs(l/o.scrollRatio.x)),s.css("left",l),r[1].css("left",dx),V(t,"_resetX")}},q=function(){function t(){s=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(s),I.call(o[0])):t()},100)}var o=e(this),a=o.data(i),n=a.opt;if(!a.bindEvents){if(E.call(this),n.contentTouchScroll&&M.call(this),D.call(this),n.mouseWheel.enable){var s;t()}R.call(this),P.call(this),n.advanced.autoScrollOnFocus&&A.call(this),n.scrollButtons.enable&&z.call(this),n.keyboard.enable&&N.call(this),a.bindEvents=!0}},T=function(){var t=e(this),o=t.data(i),a=o.opt,n=i+"_"+o.idx,s=".mCSB_"+o.idx+"_scrollbar",r=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+s+" ."+d[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+s+">a"),l=e("#mCSB_"+o.idx+"_container");a.advanced.releaseDraggableSelectors&&r.add(e(a.advanced.releaseDraggableSelectors)),a.advanced.extraDraggableSelectors&&r.add(e(a.advanced.extraDraggableSelectors)),o.bindEvents&&(e(document).add(e(!W()||top.document)).unbind("."+n),r.each(function(){e(this).unbind("."+n)}),clearTimeout(t[0]._focusTimeout),Z(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),Z(o.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),Z(l[0],"onCompleteTimeout"),o.bindEvents=!1)},B=function(t){var o=e(this),a=o.data(i),n=a.opt,s=e("#mCSB_"+a.idx+"_container_wrapper"),r=s.length?s:e("#mCSB_"+a.idx+"_container"),l=[e("#mCSB_"+a.idx+"_scrollbar_vertical"),e("#mCSB_"+a.idx+"_scrollbar_horizontal")],c=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==n.axis&&(a.overflowed[0]&&!t?(l[0].add(c[0]).add(l[0].children("a")).css("display","block"),r.removeClass(d[8]+" "+d[10])):(n.alwaysShowScrollbar?(2!==n.alwaysShowScrollbar&&c[0].css("display","none"),r.removeClass(d[10])):(l[0].css("display","none"),r.addClass(d[10])),r.addClass(d[8]))),"y"!==n.axis&&(a.overflowed[1]&&!t?(l[1].add(c[1]).add(l[1].children("a")).css("display","block"),r.removeClass(d[9]+" "+d[11])):(n.alwaysShowScrollbar?(2!==n.alwaysShowScrollbar&&c[1].css("display","none"),r.removeClass(d[11])):(l[1].css("display","none"),r.addClass(d[11])),r.addClass(d[9]))),a.overflowed[0]||a.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},L=function(t){var o=t.type,i=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,a=W()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(o){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return i?[t.originalEvent.pageY-i[0]+a[0],t.originalEvent.pageX-i[1]+a[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],s=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[n.screenY,n.screenX,s>1]:[n.pageY,n.pageX,s>1];default:return i?[t.pageY-i[0]+a[0],t.pageX-i[1]+a[1],!1]:[t.pageY,t.pageX,!1]}},E=function(){function t(e,t,i,a){if(h[0].idleTimer=d.scrollInertia<233?250:0,o.attr("id")===p[1])var n="x",l=(o[0].offsetLeft-t+a)*r.scrollRatio.x;else var n="y",l=(o[0].offsetTop-e+i)*r.scrollRatio.y;V(s,l.toString(),{dir:n,drag:!0})}var o,a,n,s=e(this),r=s.data(i),d=r.opt,u=i+"_"+r.idx,p=["mCSB_"+r.idx+"_dragger_vertical","mCSB_"+r.idx+"_dragger_horizontal"],h=e("#mCSB_"+r.idx+"_container"),f=e("#"+p[0]+",#"+p[1]),m=d.advanced.releaseDraggableSelectors?f.add(e(d.advanced.releaseDraggableSelectors)):f,v=d.advanced.extraDraggableSelectors?e(!W()||top.document).add(e(d.advanced.extraDraggableSelectors)):e(!W()||top.document);f.bind("contextmenu."+u,function(e){e.preventDefault()}).bind("mousedown."+u+" touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),ee(t)){c=!0,l&&(document.onselectstart=function(){return!1}),j.call(h,!1),$(s),o=e(this);var i=o.offset(),r=L(t)[0]-i.top,u=L(t)[1]-i.left,p=o.height()+i.top,f=o.width()+i.left;r<p&&r>0&&u<f&&u>0&&(a=r,n=u),S(o,"active",d.autoExpandScrollbar)}}).bind("touchmove."+u,function(e){e.stopImmediatePropagation(),e.preventDefault();var i=o.offset(),s=L(e)[0]-i.top,r=L(e)[1]-i.left;t(a,n,s,r)}),e(document).add(v).bind("mousemove."+u+" pointermove."+u+" MSPointerMove."+u,function(e){if(o){var i=o.offset(),s=L(e)[0]-i.top,r=L(e)[1]-i.left;if(a===s&&n===r)return;t(a,n,s,r)}}).add(m).bind("mouseup."+u+" touchend."+u+" pointerup."+u+" MSPointerUp."+u,function(e){o&&(S(o,"active",d.autoExpandScrollbar),o=null),c=!1,l&&(document.onselectstart=null),j.call(h,!0)})},M=function(){function o(e){if(!te(e)||c||L(e)[2])return void(t=0);t=1,x=0,S=0,d=1,C.removeClass("mCS_touch_action");var o=E.offset();u=L(e)[0]-o.top,p=L(e)[1]-o.left,H=[L(e)[0],L(e)[1]]}function a(e){if(te(e)&&!c&&!L(e)[2]&&(q.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!S||x)&&d)){v=G();var t=B.offset(),o=L(e)[0]-t.top,i=L(e)[1]-t.left,a="mcsLinearOut";if(D.push(o),I.push(i),H[2]=Math.abs(L(e)[0]-H[0]),H[3]=Math.abs(L(e)[1]-H[1]),k.overflowed[0])var n=M[0].parent().height()-M[0].height(),s=u-o>0&&o-u>-(n*k.scrollRatio.y)&&(2*H[3]<H[2]||"yx"===q.axis);if(k.overflowed[1])var r=M[1].parent().width()-M[1].width(),h=p-i>0&&i-p>-(r*k.scrollRatio.x)&&(2*H[2]<H[3]||"yx"===q.axis);s||h?(P||e.preventDefault(),x=1):(S=1,C.addClass("mCS_touch_action")),P&&e.preventDefault(),b="yx"===q.axis?[u-o,p-i]:"x"===q.axis?[null,p-i]:[u-o,null],E[0].idleTimer=250,k.overflowed[0]&&l(b[0],O,a,"y","all",!0),k.overflowed[1]&&l(b[1],O,a,"x",j,!0)}}function n(e){if(!te(e)||c||L(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),$(C),m=G();var o=B.offset();h=L(e)[0]-o.top,f=L(e)[1]-o.left,D=[],I=[]}function s(e){if(te(e)&&!c&&!L(e)[2]){d=0,e.stopImmediatePropagation(),x=0,S=0,g=G();var t=B.offset(),o=L(e)[0]-t.top,i=L(e)[1]-t.left;if(!(g-v>30)){w=1e3/(g-m);var a="mcsEaseOut",n=w<2.5,s=n?[D[D.length-2],I[I.length-2]]:[0,0];_=n?[o-s[0],i-s[1]]:[o-h,i-f];var u=[Math.abs(_[0]),Math.abs(_[1])];w=n?[Math.abs(_[0]/4),Math.abs(_[1]/4)]:[w,w];var p=[Math.abs(E[0].offsetTop)-_[0]*r(u[0]/w[0],w[0]),Math.abs(E[0].offsetLeft)-_[1]*r(u[1]/w[1],w[1])];b="yx"===q.axis?[p[0],p[1]]:"x"===q.axis?[null,p[1]]:[p[0],null],y=[4*u[0]+q.scrollInertia,4*u[1]+q.scrollInertia];var C=parseInt(q.contentTouchScroll)||0;b[0]=u[0]>C?b[0]:0,b[1]=u[1]>C?b[1]:0,k.overflowed[0]&&l(b[0],y[0],a,"y",j,!1),k.overflowed[1]&&l(b[1],y[1],a,"x",j,!1)}}}function r(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function l(e,t,o,i,a,n){e&&V(C,e.toString(),{dur:t,scrollEasing:o,dir:i,overwrite:a,drag:n})}var d,u,p,h,f,m,v,g,_,w,b,y,x,S,C=e(this),k=C.data(i),q=k.opt,T=i+"_"+k.idx,B=e("#mCSB_"+k.idx),E=e("#mCSB_"+k.idx+"_container"),M=[e("#mCSB_"+k.idx+"_dragger_vertical"),e("#mCSB_"+k.idx+"_dragger_horizontal")],D=[],I=[],O=0,j="yx"===q.axis?"none":"all",H=[],R=E.find("iframe"),A=["touchstart."+T+" pointerdown."+T+" MSPointerDown."+T,"touchmove."+T+" pointermove."+T+" MSPointerMove."+T,"touchend."+T+" pointerup."+T+" MSPointerUp."+T],P=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;E.bind(A[0],function(e){o(e)}).bind(A[1],function(e){a(e)}),B.bind(A[0],function(e){n(e)}).bind(A[2],function(e){s(e)}),R.length&&R.each(function(){e(this).bind("load",function(){W(this)&&e(this.contentDocument||this.contentWindow.document).bind(A[0],function(e){o(e),n(e)}).bind(A[1],function(e){a(e)}).bind(A[2],function(e){s(e)})})})},D=function(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function a(e,t,o){d.type=o&&n?"stepped":"stepless",d.scrollAmount=10,U(s,e,t,"mcsLinearOut",o?60:null)}var n,s=e(this),r=s.data(i),l=r.opt,d=r.sequential,u=i+"_"+r.idx,p=e("#mCSB_"+r.idx+"_container"),h=p.parent();p.bind("mousedown."+u,function(e){t||n||(n=1,c=!0)}).add(document).bind("mousemove."+u,function(e){if(!t&&n&&o()){var i=p.offset(),s=L(e)[0]-i.top+p[0].offsetTop,c=L(e)[1]-i.left+p[0].offsetLeft;s>0&&s<h.height()&&c>0&&c<h.width()?d.step&&a("off",null,"stepped"):("x"!==l.axis&&r.overflowed[0]&&(s<0?a("on",38):s>h.height()&&a("on",40)),"y"!==l.axis&&r.overflowed[1]&&(c<0?a("on",37):c>h.width()&&a("on",39)))}}).bind("mouseup."+u+" dragend."+u,function(e){t||(n&&(n=0,a("off",null)),c=!1)})},I=function(){function t(t,i){if($(o),!H(o,t.target)){var s="auto"!==n.mouseWheel.deltaFactor?parseInt(n.mouseWheel.deltaFactor):l&&t.deltaFactor<100?100:t.deltaFactor||100,d=n.scrollInertia;if("x"===n.axis||"x"===n.mouseWheel.axis)var u="x",p=[Math.round(s*a.scrollRatio.x),parseInt(n.mouseWheel.scrollAmount)],h="auto"!==n.mouseWheel.scrollAmount?p[1]:p[0]>=r.width()?.9*r.width():p[0],f=Math.abs(e("#mCSB_"+a.idx+"_container")[0].offsetLeft),m=c[1][0].offsetLeft,v=c[1].parent().width()-c[1].width(),g="y"===n.mouseWheel.axis?t.deltaY||i:t.deltaX;else var u="y",p=[Math.round(s*a.scrollRatio.y),parseInt(n.mouseWheel.scrollAmount)],h="auto"!==n.mouseWheel.scrollAmount?p[1]:p[0]>=r.height()?.9*r.height():p[0],f=Math.abs(e("#mCSB_"+a.idx+"_container")[0].offsetTop),m=c[0][0].offsetTop,v=c[0].parent().height()-c[0].height(),g=t.deltaY||i;"y"===u&&!a.overflowed[0]||"x"===u&&!a.overflowed[1]||((n.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(g=-g),n.mouseWheel.normalizeDelta&&(g=g<0?-1:1),(g>0&&0!==m||g<0&&m!==v||n.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!n.mouseWheel.normalizeDelta&&(h=t.deltaFactor,d=17),V(o,(f-g*h).toString(),{dir:u,dur:d}))}}if(e(this).data(i)){var o=e(this),a=o.data(i),n=a.opt,s=i+"_"+a.idx,r=e("#mCSB_"+a.idx),c=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")],d=e("#mCSB_"+a.idx+"_container").find("iframe");d.length&&d.each(function(){e(this).bind("load",function(){W(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+s,function(e,o){t(e,o)})})}),r.bind("mousewheel."+s,function(e,o){t(e,o)})}},O=new Object,W=function(t){var o=!1,i=!1,a=null;if(void 0===t?i="#empty":void 0!==e(t).attr("id")&&(i=e(t).attr("id")),i!==!1&&void 0!==O[i])return O[i];if(t){try{var n=t.contentDocument||t.contentWindow.document;a=n.body.innerHTML}catch(s){}o=null!==a}else{try{var n=top.document;a=n.body.innerHTML}catch(s){}o=null!==a}return i!==!1&&(O[i]=o),o},j=function(e){var t=this.find("iframe");if(t.length){var o=e?"auto":"none";t.css("pointer-events",o)}},H=function(t,o){var a=o.nodeName.toLowerCase(),n=t.data(i).opt.mouseWheel.disableOver,s=["select","textarea"];return e.inArray(a,n)>-1&&!(e.inArray(a,s)>-1&&!e(o).is(":focus"))},R=function(){var t,o=e(this),a=o.data(i),n=i+"_"+a.idx,s=e("#mCSB_"+a.idx+"_container"),r=s.parent(),l=e(".mCSB_"+a.idx+"_scrollbar ."+d[12]);l.bind("mousedown."+n+" touchstart."+n+" pointerdown."+n+" MSPointerDown."+n,function(o){c=!0,e(o.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+n+" pointerup."+n+" MSPointerUp."+n,function(e){c=!1}).bind("click."+n,function(i){if(t&&(t=0,e(i.target).hasClass(d[12])||e(i.target).hasClass("mCSB_draggerRail"))){$(o);var n=e(this),l=n.find(".mCSB_dragger");if(n.parent(".mCSB_scrollTools_horizontal").length>0){if(!a.overflowed[1])return;var c="x",u=i.pageX>l.offset().left?-1:1,p=Math.abs(s[0].offsetLeft)-u*(.9*r.width())}else{if(!a.overflowed[0])return;var c="y",u=i.pageY>l.offset().top?-1:1,p=Math.abs(s[0].offsetTop)-u*(.9*r.height())}V(o,p.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},A=function(){var t=e(this),o=t.data(i),a=o.opt,n=i+"_"+o.idx,s=e("#mCSB_"+o.idx+"_container"),r=s.parent();s.bind("focusin."+n,function(o){var i=e(document.activeElement),n=s.find(".mCustomScrollBox").length,l=0;i.is(a.advanced.autoScrollOnFocus)&&($(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=n?(l+17)*n:0,t[0]._focusTimeout=setTimeout(function(){var e=[ie(i)[0],ie(i)[1]],o=[s[0].offsetTop,s[0].offsetLeft],n=[o[0]+e[0]>=0&&o[0]+e[0]<r.height()-i.outerHeight(!1),o[1]+e[1]>=0&&o[0]+e[1]<r.width()-i.outerWidth(!1)],c="yx"!==a.axis||n[0]||n[1]?"all":"none";"x"===a.axis||n[0]||V(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:l}),"y"===a.axis||n[1]||V(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:l})},t[0]._focusTimer))})},P=function(){var t=e(this),o=t.data(i),a=i+"_"+o.idx,n=e("#mCSB_"+o.idx+"_container").parent();n.bind("scroll."+a,function(t){0===n.scrollTop()&&0===n.scrollLeft()||e(".mCSB_"+o.idx+"_scrollbar").css("visibility","hidden")})},z=function(){var t=e(this),o=t.data(i),a=o.opt,n=o.sequential,s=i+"_"+o.idx,r=".mCSB_"+o.idx+"_scrollbar",l=e(r+">a");l.bind("contextmenu."+s,function(e){e.preventDefault()}).bind("mousedown."+s+" touchstart."+s+" pointerdown."+s+" MSPointerDown."+s+" mouseup."+s+" touchend."+s+" pointerup."+s+" MSPointerUp."+s+" mouseout."+s+" pointerout."+s+" MSPointerOut."+s+" click."+s,function(i){function s(e,o){n.scrollAmount=a.scrollButtons.scrollAmount,U(t,e,o)}if(i.preventDefault(),ee(i)){var r=e(this).attr("class");switch(n.type=a.scrollButtons.scrollType,i.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===n.type)return;c=!0,o.tweenRunning=!1,s("on",r);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===n.type)return;c=!1,n.dir&&s("off",r);break;case"click":if("stepped"!==n.type||o.tweenRunning)return;s("on",r)}}})},N=function(){function t(t){function i(e,t){s.type=n.keyboard.scrollType,s.scrollAmount=n.keyboard.scrollAmount,"stepped"===s.type&&a.tweenRunning||U(o,e,t)}switch(t.type){case"blur":a.tweenRunning&&s.dir&&i("off",null);break;case"keydown":case"keyup":var r=t.keyCode?t.keyCode:t.which,l="on";if("x"!==n.axis&&(38===r||40===r)||"y"!==n.axis&&(37===r||39===r)){if((38===r||40===r)&&!a.overflowed[0]||(37===r||39===r)&&!a.overflowed[1])return;"keyup"===t.type&&(l="off"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),i(l,r))}else if(33===r||34===r){if((a.overflowed[0]||a.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){$(o);var p=34===r?-1:1;if("x"===n.axis||"yx"===n.axis&&a.overflowed[1]&&!a.overflowed[0])var h="x",f=Math.abs(c[0].offsetLeft)-p*(.9*d.width());else var h="y",f=Math.abs(c[0].offsetTop)-p*(.9*d.height());V(o,f.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else if((35===r||36===r)&&!e(document.activeElement).is(u)&&((a.overflowed[0]||a.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===n.axis||"yx"===n.axis&&a.overflowed[1]&&!a.overflowed[0])var h="x",f=35===r?Math.abs(d.width()-c.outerWidth(!1)):0;else var h="y",f=35===r?Math.abs(d.height()-c.outerHeight(!1)):0;V(o,f.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}}var o=e(this),a=o.data(i),n=a.opt,s=a.sequential,r=i+"_"+a.idx,l=e("#mCSB_"+a.idx),c=e("#mCSB_"+a.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",p=c.find("iframe"),h=["blur."+r+" keydown."+r+" keyup."+r];p.length&&p.each(function(){e(this).bind("load",function(){W(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],function(e){t(e)})})}),l.attr("tabindex","0").bind(h[0],function(e){t(e)})},U=function(t,o,a,n,s){function r(e){u.snapAmount&&(p.scrollAmount=u.snapAmount instanceof Array?"x"===p.dir[0]?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount);var o="stepped"!==p.type,i=s?s:e?o?m/1.5:v:1e3/60,a=e?o?7.5:40:2.5,l=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],f="x"===p.dir[0]?l[1]+p.dir[1]*(d[1]*a):l[0]+p.dir[1]*(d[0]*a),g="x"===p.dir[0]?l[1]+p.dir[1]*parseInt(p.scrollAmount):l[0]+p.dir[1]*parseInt(p.scrollAmount),_="auto"!==p.scrollAmount?g:f,w=n?n:e?o?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",b=!!e;return e&&i<17&&(_="x"===p.dir[0]?l[1]:l[0]),V(t,_.toString(),{dir:p.dir[0],scrollEasing:w,dur:i,onComplete:b}),e?void(p.dir=!1):(clearTimeout(p.step),void(p.step=setTimeout(function(){r()},i)))}function l(){clearTimeout(p.step),Z(p,"step"),$(t)}var c=t.data(i),u=c.opt,p=c.sequential,h=e("#mCSB_"+c.idx+"_container"),f="stepped"===p.type,m=u.scrollInertia<26?26:u.scrollInertia,v=u.scrollInertia<1?17:u.scrollInertia;switch(o){case"on":if(p.dir=[a===d[16]||a===d[15]||39===a||37===a?"x":"y",a===d[13]||a===d[15]||38===a||37===a?-1:1],$(t),oe(a)&&"stepped"===p.type)return;r(f);break;case"off":l(),(f||c.tweenRunning&&p.dir)&&r(!0)}},F=function(t){var o=e(this).data(i).opt,a=[];return"function"==typeof t&&(t=t()),t instanceof Array?a=t.length>1?[t[0],t[1]]:"x"===o.axis?[null,t[0]]:[t[0],null]:(a[0]=t.y?t.y:t.x||"x"===o.axis?null:t,a[1]=t.x?t.x:t.y||"y"===o.axis?null:t),"function"==typeof a[0]&&(a[0]=a[0]()),"function"==typeof a[1]&&(a[1]=a[1]()),a},X=function(t,o){if(null!=t&&"undefined"!=typeof t){var a=e(this),n=a.data(i),s=n.opt,r=e("#mCSB_"+n.idx+"_container"),l=r.parent(),c=typeof t;o||(o="x"===s.axis?"x":"y");var d="x"===o?r.outerWidth(!1)-l.width():r.outerHeight(!1)-l.height(),p="x"===o?r[0].offsetLeft:r[0].offsetTop,h="x"===o?"left":"top";switch(c){case"function":return t();case"object":var f=t.jquery?t:e(t);if(!f.length)return;return"x"===o?ie(f)[1]:ie(f)[0];case"string":case"number":if(oe(t))return Math.abs(t);if(t.indexOf("%")!==-1)return Math.abs(d*parseInt(t)/100);if(t.indexOf("-=")!==-1)return Math.abs(p-parseInt(t.split("-=")[1]));if(t.indexOf("+=")!==-1){var m=p+parseInt(t.split("+=")[1]);return m>=0?0:Math.abs(m)}if(t.indexOf("px")!==-1&&oe(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(l.height()-r.outerHeight(!1));if("right"===t)return Math.abs(l.width()-r.outerWidth(!1));if("first"===t||"last"===t){var f=r.find(":"+t);return"x"===o?ie(f)[1]:ie(f)[0]}return e(t).length?"x"===o?ie(e(t))[1]:ie(e(t))[0]:(r.css(h,t),void u.update.call(null,a[0]))}}},Y=function(t){function o(){return clearTimeout(p[0].autoUpdate),0===r.parents("html").length?void(r=null):void(p[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(l.poll.change.n=n(),l.poll.change.n!==l.poll.change.o)?(l.poll.change.o=l.poll.change.n,void s(3)):c.advanced.updateOnContentResize&&(l.poll.size.n=r[0].scrollHeight+r[0].scrollWidth+p[0].offsetHeight+r[0].offsetHeight+r[0].offsetWidth,l.poll.size.n!==l.poll.size.o)?(l.poll.size.o=l.poll.size.n,void s(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(l.poll.img.n=p.find("img").length,l.poll.img.n===l.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&o()):(l.poll.img.o=l.poll.img.n,void p.find("img").each(function(){a(this)}))},c.advanced.autoUpdateTimeout))}function a(t){function o(e,t){return function(){return t.apply(e,arguments)}}function i(){this.onload=null,e(t).addClass(d[2]),s(2)}if(e(t).hasClass(d[2]))return void s();var a=new Image;a.onload=o(a,i),a.src=t.src}function n(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange="*");var e=0,t=p.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function s(e){clearTimeout(p[0].autoUpdate),u.update.call(null,r[0],e)}var r=e(this),l=r.data(i),c=l.opt,p=e("#mCSB_"+l.idx+"_container");return t?(clearTimeout(p[0].autoUpdate),void Z(p[0],"autoUpdate")):void o()},K=function(e,t,o){return Math.round(e/t)*t-o},$=function(t){var o=t.data(i),a=e("#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal");a.each(function(){J.call(this)})},V=function(t,o,a){function n(e){return l&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function s(){return[c.callbacks.alwaysTriggerOffsets||b>=y[0]+C,c.callbacks.alwaysTriggerOffsets||b<=-k]}function r(){var e=[h[0].offsetTop,h[0].offsetLeft],o=[_[0].offsetTop,_[0].offsetLeft],i=[h.outerHeight(!1),h.outerWidth(!1)],n=[p.height(),p.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(i[0])-n[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(i[1])-n[1])),direction:a.dir}}var l=t.data(i),c=l.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},a=e.extend(d,a),u=[a.dur,a.drag?0:a.dur],p=e("#mCSB_"+l.idx),h=e("#mCSB_"+l.idx+"_container"),f=h.parent(),m=c.callbacks.onTotalScrollOffset?F.call(t,c.callbacks.onTotalScrollOffset):[0,0],v=c.callbacks.onTotalScrollBackOffset?F.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(l.trigger=a.trigger,0===f.scrollTop()&&0===f.scrollLeft()||(e(".mCSB_"+l.idx+"_scrollbar").css("visibility","visible"),f.scrollTop(0).scrollLeft(0)),"_resetY"!==o||l.contentReset.y||(n("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),l.contentReset.y=1),"_resetX"!==o||l.contentReset.x||(n("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),l.contentReset.x=1),"_resetY"!==o&&"_resetX"!==o){if(!l.contentReset.y&&t[0].mcs||!l.overflowed[0]||(n("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),l.contentReset.x=null),!l.contentReset.x&&t[0].mcs||!l.overflowed[1]||(n("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),l.contentReset.x=null),c.snapAmount){var g=c.snapAmount instanceof Array?"x"===a.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;o=K(o,g,c.snapOffset)}switch(a.dir){case"x":var _=e("#mCSB_"+l.idx+"_dragger_horizontal"),w="left",b=h[0].offsetLeft,y=[p.width()-h.outerWidth(!1),_.parent().width()-_.width()],x=[o,0===o?0:o/l.scrollRatio.x],C=m[1],k=v[1],q=C>0?C/l.scrollRatio.x:0,T=k>0?k/l.scrollRatio.x:0;break;case"y":var _=e("#mCSB_"+l.idx+"_dragger_vertical"),w="top",b=h[0].offsetTop,y=[p.height()-h.outerHeight(!1),_.parent().height()-_.height()],x=[o,0===o?0:o/l.scrollRatio.y],C=m[0],k=v[0],q=C>0?C/l.scrollRatio.y:0,T=k>0?k/l.scrollRatio.y:0}x[1]<0||0===x[0]&&0===x[1]?x=[0,0]:x[1]>=y[1]?x=[y[0],y[1]]:x[0]=-x[0],t[0].mcs||(r(),n("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),Q(_[0],w,Math.round(x[1]),u[1],a.scrollEasing),!l.tweenRunning&&(0===b&&x[0]>=0||b===y[0]&&x[0]<=y[0])||Q(h[0],w,Math.round(x[0]),u[0],a.scrollEasing,a.overwrite,{onStart:function(){a.callbacks&&a.onStart&&!l.tweenRunning&&(n("onScrollStart")&&(r(),c.callbacks.onScrollStart.call(t[0])),l.tweenRunning=!0,S(_),l.cbOffsets=s())},onUpdate:function(){a.callbacks&&a.onUpdate&&n("whileScrolling")&&(r(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(a.callbacks&&a.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){n("onScroll")&&(r(),c.callbacks.onScroll.call(t[0])),n("onTotalScroll")&&x[1]>=y[1]-q&&l.cbOffsets[0]&&(r(),c.callbacks.onTotalScroll.call(t[0])),n("onTotalScrollBack")&&x[1]<=T&&l.cbOffsets[1]&&(r(),c.callbacks.onTotalScrollBack.call(t[0])),l.tweenRunning=!1,h[0].idleTimer=0,S(_,"hide")},e)}}})}},Q=function(e,t,o,i,a,n,s){function r(){y.stop||(_||f.call(),_=G()-g,l(),_>=y.time&&(y.time=_>y.time?_+p-(_-y.time):_+p-1,y.time<_+1&&(y.time=_+1)),y.time<i?y.id=h(r):v.call())}function l(){i>0?(y.currVal=u(y.time,w,x,i,a),b[t]=Math.round(y.currVal)+"px"):b[t]=o+"px",m.call()}function c(){p=1e3/60,y.time=_+p,h=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return l(),setTimeout(e,.01)},y.id=h(r)}function d(){null!=y.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(y.id):clearTimeout(y.id),y.id=null)}function u(e,t,o,i,a){switch(a){case"linear":case"mcsLinear":return o*e/i+t;case"mcsLinearOut":return e/=i,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=i/2,e<1?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=i/2,e<1?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=i/2,e<1?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=i,e--,-o*(e*e*e*e-1)+t;case"easeOutStrong":return o*(-Math.pow(2,-10*e/i)+1)+t;case"easeOut":case"mcsEaseOut":default:var n=(e/=i)*e,s=n*e;return t+o*(.499999999999997*s*n+-2.5*n*n+5.5*s+-6.5*n+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var p,h,s=s||{},f=s.onStart||function(){},m=s.onUpdate||function(){},v=s.onComplete||function(){},g=G(),_=0,w=e.offsetTop,b=e.style,y=e._mTween[t];"left"===t&&(w=e.offsetLeft);var x=o-w;y.stop=0,"none"!==n&&d(),c()},G=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},J=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],o=0;o<t.length;o++){var i=t[o];e._mTween[i].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[i].id):clearTimeout(e._mTween[i].id),e._mTween[i].id=null,e._mTween[i].stop=1)}},Z=function(e,t){try{delete e[t]}catch(o){e[t]=null}},ee=function(e){return!(e.which&&1!==e.which)},te=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},oe=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ie=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ae=function(){function e(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}var t=e();return!!t&&document[t]};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o].defaults=n,window[o]=!0,e(window).bind("load",function(){e(a)[o](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var o,i,a=e(t),n=a.parents(".mCSB_container");if(n.length)return o=n.parent(),i=[n[0].offsetTop,n[0].offsetLeft],i[0]+ie(a)[0]>=0&&i[0]+ie(a)[0]<o.height()-a.outerHeight(!1)&&i[1]+ie(a)[1]>=0&&i[1]+ie(a)[1]<o.width()-a.outerWidth(!1)},mcsInSight:e.expr[":"].mcsInSight||function(t,o,i){var a,n,s,r,l=e(t),c=l.parents(".mCSB_container"),d="exact"===i[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return a=[l.outerHeight(!1),l.outerWidth(!1)],s=[c[0].offsetTop+ie(l)[0],c[0].offsetLeft+ie(l)[1]],n=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],r=[a[0]<n[0]?d[0]:d[1],a[1]<n[1]?d[0]:d[1]],s[0]-n[0]*r[0][0]<0&&s[0]+a[0]-n[0]*r[0][1]>=0&&s[1]-n[1]*r[1][0]<0&&s[1]+a[1]-n[1]*r[1][1]>=0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var o=e(t).data(i);if(o)return o.overflowed[0]||o.overflowed[1]}})})})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(t,o){this.element=t,this.options=e.extend({},a,o),this.init()}function o(t){if(!e(t.target).parents().hasClass("jq-selectbox")&&"OPTION"!=t.target.nodeName&&e("div.jq-selectbox.opened").length){var o=e("div.jq-selectbox.opened"),a=e("div.jq-selectbox__search input",o),n=e("div.jq-selectbox__dropdown",o),s=o.find("select").data("_"+i).options;s.onSelectClosed.call(o),a.length&&a.val("").keyup(),n.hide().find("li.sel").addClass("selected"),o.removeClass("focused opened dropup dropdown");
}}var i="styler",a={idSuffix:"-styler",filePlaceholder:"Файл не выбран",fileBrowse:"Обзор...",fileNumber:"Выбрано файлов: %s",selectPlaceholder:"Выберите...",selectSearch:!1,selectSearchLimit:10,selectSearchNotFound:"Совпадений не найдено",selectSearchPlaceholder:"Поиск...",selectVisibleOptions:0,singleSelectzIndex:"100",selectSmartPositioning:!0,onSelectOpened:function(){},onSelectClosed:function(){},onFormStyled:function(){}};t.prototype={init:function(){function t(){void 0!==i.attr("id")&&""!==i.attr("id")&&(this.id=i.attr("id")+a.idSuffix),this.title=i.attr("title"),this.classes=i.attr("class"),this.data=i.data()}var i=e(this.element),a=this.options,n=!(!navigator.userAgent.match(/(iPad|iPhone|iPod)/i)||navigator.userAgent.match(/(Windows\sPhone)/i)),s=!(!navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/(Windows\sPhone)/i));if(i.is(":checkbox")){var r=function(){var o=new t,a=e('<div class="jq-checkbox"><div class="jq-checkbox__div"></div></div>').attr({id:o.id,title:o.title}).addClass(o.classes).data(o.data);i.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(a).prependTo(a),a.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative",overflow:"hidden"}),i.is(":checked")&&a.addClass("checked"),i.is(":disabled")&&a.addClass("disabled"),a.click(function(e){e.preventDefault(),a.is(".disabled")||(i.is(":checked")?(i.prop("checked",!1),a.removeClass("checked")):(i.prop("checked",!0),a.addClass("checked")),i.focus().change())}),i.closest("label").add('label[for="'+i.attr("id")+'"]').on("click.styler",function(t){e(t.target).is("a")||e(t.target).closest(a).length||(a.triggerHandler("click"),t.preventDefault())}),i.on("change.styler",function(){i.is(":checked")?a.addClass("checked"):a.removeClass("checked")}).on("keydown.styler",function(e){32==e.which&&a.click()}).on("focus.styler",function(){a.is(".disabled")||a.addClass("focused")}).on("blur.styler",function(){a.removeClass("focused")})};r(),i.on("refresh",function(){i.closest("label").add('label[for="'+i.attr("id")+'"]').off(".styler"),i.off(".styler").parent().before(i).remove(),r()})}else if(i.is(":radio")){var l=function(){var o=new t,a=e('<div class="jq-radio"><div class="jq-radio__div"></div></div>').attr({id:o.id,title:o.title}).addClass(o.classes).data(o.data);i.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(a).prependTo(a),a.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative"}),i.is(":checked")&&a.addClass("checked"),i.is(":disabled")&&a.addClass("disabled"),e.fn.commonParents=function(){var t=this;return t.first().parents().filter(function(){return e(this).find(t).length===t.length})},e.fn.commonParent=function(){return e(this).commonParents().first()},a.click(function(t){if(t.preventDefault(),!a.is(".disabled")){var o=e('input[name="'+i.attr("name")+'"]');o.commonParent().find(o).prop("checked",!1).parent().removeClass("checked"),i.prop("checked",!0).parent().addClass("checked"),i.focus().change()}}),i.closest("label").add('label[for="'+i.attr("id")+'"]').on("click.styler",function(t){e(t.target).is("a")||e(t.target).closest(a).length||(a.triggerHandler("click"),t.preventDefault())}),i.on("change.styler",function(){i.parent().addClass("checked")}).on("focus.styler",function(){a.is(".disabled")||a.addClass("focused")}).on("blur.styler",function(){a.removeClass("focused")})};l(),i.on("refresh",function(){i.closest("label").add('label[for="'+i.attr("id")+'"]').off(".styler"),i.off(".styler").parent().before(i).remove(),l()})}else if(i.is(":file")){i.css({position:"absolute",top:0,right:0,margin:0,padding:0,opacity:0,fontSize:"100px"});var c=function(){var o=new t,n=i.data("placeholder");void 0===n&&(n=a.filePlaceholder);var s=i.data("browse");void 0!==s&&""!==s||(s=a.fileBrowse);var r=e('<div class="jq-file"><div class="jq-file__name">'+n+'</div><div class="jq-file__browse">'+s+"</div></div>").css({display:"inline-block",position:"relative",overflow:"hidden"}).attr({id:o.id,title:o.title}).addClass(o.classes).data(o.data);i.after(r).appendTo(r),i.is(":disabled")&&r.addClass("disabled"),i.on("change.styler",function(){var t=i.val(),o=e("div.jq-file__name",r);if(i.is("[multiple]")){t="";var s=i[0].files.length;if(s>0){var l=i.data("number");void 0===l&&(l=a.fileNumber),l=l.replace("%s",s),t=l}}o.text(t.replace(/.+[\\\/]/,"")),""===t?(o.text(n),r.removeClass("changed")):r.addClass("changed")}).on("focus.styler",function(){r.addClass("focused")}).on("blur.styler",function(){r.removeClass("focused")}).on("click.styler",function(){r.removeClass("focused")})};c(),i.on("refresh",function(){i.off(".styler").parent().before(i).remove(),c()})}else if(i.is('input[type="number"]')){var d=function(){var o=new t,a=e('<div class="jq-number"><div class="jq-number__spin minus"></div><div class="jq-number__spin plus"></div></div>').attr({id:o.id,title:o.title}).addClass(o.classes).data(o.data);i.after(a).prependTo(a).wrap('<div class="jq-number__field"></div>'),i.is(":disabled")&&a.addClass("disabled");var n,s,r,l=null,c=null;void 0!==i.attr("min")&&(n=i.attr("min")),void 0!==i.attr("max")&&(s=i.attr("max")),r=void 0!==i.attr("step")&&e.isNumeric(i.attr("step"))?Number(i.attr("step")):Number(1);var d=function(t){var o,a=i.val();e.isNumeric(a)||(a=0,i.val("0")),t.is(".minus")?o=Number(a)-r:t.is(".plus")&&(o=Number(a)+r);var l=(r.toString().split(".")[1]||[]).length;if(l>0){for(var c="1";c.length<=l;)c+="0";o=Math.round(o*c)/c}e.isNumeric(n)&&e.isNumeric(s)?o>=n&&o<=s&&i.val(o):e.isNumeric(n)&&!e.isNumeric(s)?o>=n&&i.val(o):!e.isNumeric(n)&&e.isNumeric(s)?o<=s&&i.val(o):i.val(o)};a.is(".disabled")||(a.on("mousedown","div.jq-number__spin",function(){var t=e(this);d(t),l=setTimeout(function(){c=setInterval(function(){d(t)},40)},350)}).on("mouseup mouseout","div.jq-number__spin",function(){clearTimeout(l),clearInterval(c)}).on("mouseup","div.jq-number__spin",function(){i.change()}),i.on("focus.styler",function(){a.addClass("focused")}).on("blur.styler",function(){a.removeClass("focused")}))};d(),i.on("refresh",function(){i.off(".styler").closest(".jq-number").before(i).remove(),d()})}else if(i.is("select")){var u=function(){function r(t){t.off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(t){var o=null;"mousewheel"==t.type?o=t.originalEvent.wheelDelta*-1:"DOMMouseScroll"==t.type&&(o=40*t.originalEvent.detail),o&&(t.stopPropagation(),t.preventDefault(),e(this).scrollTop(o+e(this).scrollTop()))})}function l(){for(var e=0;e<u.length;e++){var t=u.eq(e),o="",i="",n="",s="",r="",l="",c="",d="",h="",f="disabled",m="selected sel disabled";t.prop("selected")&&(i="selected sel"),t.is(":disabled")&&(i=f),t.is(":selected:disabled")&&(i=m),void 0!==t.attr("id")&&""!==t.attr("id")&&(s=' id="'+t.attr("id")+a.idSuffix+'"'),void 0!==t.attr("title")&&""!==u.attr("title")&&(r=' title="'+t.attr("title")+'"'),void 0!==t.attr("class")&&(c=" "+t.attr("class"),h=' data-jqfs-class="'+t.attr("class")+'"');var v=t.data();for(var g in v)""!==v[g]&&(l+=" data-"+g+'="'+v[g]+'"');i+c!==""&&(n=' class="'+i+c+'"'),o="<li"+h+l+n+r+s+">"+t.html()+"</li>",t.parent().is("optgroup")&&(void 0!==t.parent().attr("class")&&(d=" "+t.parent().attr("class")),o="<li"+h+l+' class="'+i+c+" option"+d+'"'+r+s+">"+t.html()+"</li>",t.is(":first-child")&&(o='<li class="optgroup'+d+'">'+t.parent().attr("label")+"</li>"+o)),p+=o}}function c(){var s=new t,c="",d=i.data("placeholder"),h=i.data("search"),f=i.data("search-limit"),m=i.data("search-not-found"),v=i.data("search-placeholder"),g=i.data("z-index"),_=i.data("smart-positioning");void 0===d&&(d=a.selectPlaceholder),void 0!==h&&""!==h||(h=a.selectSearch),void 0!==f&&""!==f||(f=a.selectSearchLimit),void 0!==m&&""!==m||(m=a.selectSearchNotFound),void 0===v&&(v=a.selectSearchPlaceholder),void 0!==g&&""!==g||(g=a.singleSelectzIndex),void 0!==_&&""!==_||(_=a.selectSmartPositioning);var w=e('<div class="jq-selectbox jqselect"><div class="jq-selectbox__select" style="position: relative"><div class="jq-selectbox__select-text"></div><div class="jq-selectbox__trigger"><div class="jq-selectbox__trigger-arrow"></div></div></div></div>').css({display:"inline-block",position:"relative",zIndex:g}).attr({id:s.id,title:s.title}).addClass(s.classes).data(s.data);i.css({margin:0,padding:0}).after(w).prependTo(w);var b=e("div.jq-selectbox__select",w),y=e("div.jq-selectbox__select-text",w),x=u.filter(":selected");l(),h&&(c='<div class="jq-selectbox__search"><input type="search" autocomplete="off" placeholder="'+v+'"></div><div class="jq-selectbox__not-found">'+m+"</div>");var S=e('<div class="jq-selectbox__dropdown" style="position: absolute">'+c+'<ul style="position: relative; list-style: none; overflow: auto; overflow-x: hidden">'+p+"</ul></div>");w.append(S);var C=e("ul",S),k=e("li",S),q=e("input",S),T=e("div.jq-selectbox__not-found",S).hide();k.length<f&&q.parent().hide(),""===u.first().text()&&u.first().is(":selected")?y.text(d).addClass("placeholder"):y.text(x.text());var B=0,L=0;if(k.css({display:"inline-block"}),k.each(function(){var t=e(this);t.innerWidth()>B&&(B=t.innerWidth(),L=t.width())}),k.css({display:""}),y.is(".placeholder")&&y.width()>B)y.width(y.width());else{var E=w.clone().appendTo("body").width("auto"),M=E.outerWidth();E.remove(),M==w.outerWidth()&&y.width(L)}B>w.width()&&S.width(B),""===u.first().text()&&""!==i.data("placeholder")&&k.first().hide(),i.css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0});var D=w.outerHeight(!0),I=q.parent().outerHeight(!0),O=C.css("max-height"),W=k.filter(".selected");W.length<1&&k.first().addClass("selected sel"),void 0===k.data("li-height")&&k.data("li-height",k.outerHeight());var j=S.css("top");if("auto"==S.css("left")&&S.css({left:0}),"auto"==S.css("top")&&(S.css({top:D}),j=D),S.hide(),W.length&&(u.first().text()!=x.text()&&w.addClass("changed"),w.data("jqfs-class",W.data("jqfs-class")),w.addClass(W.data("jqfs-class"))),i.is(":disabled"))return w.addClass("disabled"),!1;b.click(function(){if(e("div.jq-selectbox").filter(".opened").length&&a.onSelectClosed.call(e("div.jq-selectbox").filter(".opened")),i.focus(),!n){var t=e(window),o=k.data("li-height"),s=w.offset().top,l=t.height()-D-(s-t.scrollTop()),c=i.data("visible-options");void 0!==c&&""!==c||(c=a.selectVisibleOptions);var d=5*o,p=o*c;c>0&&c<6&&(d=p),0===c&&(p="auto");var h=function(){S.height("auto").css({bottom:"auto",top:j});var e=function(){C.css("max-height",Math.floor((l-20-I)/o)*o)};e(),C.css("max-height",p),"none"!=O&&C.css("max-height",O),l<S.outerHeight()+20&&e()},f=function(){S.height("auto").css({top:"auto",bottom:j});var e=function(){C.css("max-height",Math.floor((s-t.scrollTop()-20-I)/o)*o)};e(),C.css("max-height",p),"none"!=O&&C.css("max-height",O),s-t.scrollTop()-20<S.outerHeight()+20&&e()};_===!0||1===_?l>d+I+20?(h(),w.removeClass("dropup").addClass("dropdown")):(f(),w.removeClass("dropdown").addClass("dropup")):_!==!1&&0!==_||l>d+I+20&&(h(),w.removeClass("dropup").addClass("dropdown")),w.offset().left+S.outerWidth()>t.width()&&S.css({left:"auto",right:0}),e("div.jqselect").css({zIndex:g-1}).removeClass("opened"),w.css({zIndex:g}),S.is(":hidden")?(e("div.jq-selectbox__dropdown:visible").hide(),S.show(),w.addClass("opened focused"),a.onSelectOpened.call(w)):(S.hide(),w.removeClass("opened dropup dropdown"),e("div.jq-selectbox").filter(".opened").length&&a.onSelectClosed.call(w)),q.length&&(q.val("").keyup(),T.hide(),q.keyup(function(){var t=e(this).val();k.each(function(){e(this).html().match(new RegExp(".*?"+t+".*?","i"))?e(this).show():e(this).hide()}),""===u.first().text()&&""!==i.data("placeholder")&&k.first().hide(),k.filter(":visible").length<1?T.show():T.hide()})),k.filter(".selected").length&&(""===i.val()?C.scrollTop(0):(C.innerHeight()/o%2!==0&&(o/=2),C.scrollTop(C.scrollTop()+k.filter(".selected").position().top-C.innerHeight()/2+o))),r(C)}}),k.hover(function(){e(this).siblings().removeClass("selected")});var H=k.filter(".selected").text();k.filter(":not(.disabled):not(.optgroup)").click(function(){i.focus();var t=e(this),o=t.text();if(!t.is(".selected")){var n=t.index();n-=t.prevAll(".optgroup").length,t.addClass("selected sel").siblings().removeClass("selected sel"),u.prop("selected",!1).eq(n).prop("selected",!0),H=o,y.text(o),w.data("jqfs-class")&&w.removeClass(w.data("jqfs-class")),w.data("jqfs-class",t.data("jqfs-class")),w.addClass(t.data("jqfs-class")),i.change()}S.hide(),w.removeClass("opened dropup dropdown"),a.onSelectClosed.call(w)}),S.mouseout(function(){e("li.sel",S).addClass("selected")}),i.on("change.styler",function(){y.text(u.filter(":selected").text()).removeClass("placeholder"),k.removeClass("selected sel").not(".optgroup").eq(i[0].selectedIndex).addClass("selected sel"),u.first().text()!=k.filter(".selected").text()?w.addClass("changed"):w.removeClass("changed")}).on("focus.styler",function(){w.addClass("focused"),e("div.jqselect").not(".focused").removeClass("opened dropup dropdown").find("div.jq-selectbox__dropdown").hide()}).on("blur.styler",function(){w.removeClass("focused")}).on("keydown.styler keyup.styler",function(e){var t=k.data("li-height");""===i.val()?y.text(d).addClass("placeholder"):y.text(u.filter(":selected").text()),k.removeClass("selected sel").not(".optgroup").eq(i[0].selectedIndex).addClass("selected sel"),38!=e.which&&37!=e.which&&33!=e.which&&36!=e.which||(""===i.val()?C.scrollTop(0):C.scrollTop(C.scrollTop()+k.filter(".selected").position().top)),40!=e.which&&39!=e.which&&34!=e.which&&35!=e.which||C.scrollTop(C.scrollTop()+k.filter(".selected").position().top-C.innerHeight()+t),13==e.which&&(e.preventDefault(),S.hide(),w.removeClass("opened dropup dropdown"),a.onSelectClosed.call(w))}).on("keydown.styler",function(e){32==e.which&&(e.preventDefault(),b.click())}),o.registered||(e(document).on("click",o),o.registered=!0)}function d(){var o=new t,a=e('<div class="jq-select-multiple jqselect"></div>').css({display:"inline-block",position:"relative"}).attr({id:o.id,title:o.title}).addClass(o.classes).data(o.data);i.css({margin:0,padding:0}).after(a),l(),a.append("<ul>"+p+"</ul>");var n=e("ul",a).css({position:"relative","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}),s=e("li",a).attr("unselectable","on"),c=i.attr("size"),d=n.outerHeight(),h=s.outerHeight();void 0!==c&&c>0?n.css({height:h*c}):n.css({height:4*h}),d>a.height()&&(n.css("overflowY","scroll"),r(n),s.filter(".selected").length&&n.scrollTop(n.scrollTop()+s.filter(".selected").position().top)),i.prependTo(a).css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0}),i.is(":disabled")?(a.addClass("disabled"),u.each(function(){e(this).is(":selected")&&s.eq(e(this).index()).addClass("selected")})):(s.filter(":not(.disabled):not(.optgroup)").click(function(t){i.focus();var o=e(this);if(t.ctrlKey||t.metaKey||o.addClass("selected"),t.shiftKey||o.addClass("first"),t.ctrlKey||t.metaKey||t.shiftKey||o.siblings().removeClass("selected first"),(t.ctrlKey||t.metaKey)&&(o.is(".selected")?o.removeClass("selected first"):o.addClass("selected first"),o.siblings().removeClass("first")),t.shiftKey){var a=!1,n=!1;o.siblings().removeClass("selected").siblings(".first").addClass("selected"),o.prevAll().each(function(){e(this).is(".first")&&(a=!0)}),o.nextAll().each(function(){e(this).is(".first")&&(n=!0)}),a&&o.prevAll().each(function(){return!e(this).is(".selected")&&void e(this).not(".disabled, .optgroup").addClass("selected")}),n&&o.nextAll().each(function(){return!e(this).is(".selected")&&void e(this).not(".disabled, .optgroup").addClass("selected")}),1==s.filter(".selected").length&&o.addClass("first")}u.prop("selected",!1),s.filter(".selected").each(function(){var t=e(this),o=t.index();t.is(".option")&&(o-=t.prevAll(".optgroup").length),u.eq(o).prop("selected",!0)}),i.change()}),u.each(function(t){e(this).data("optionIndex",t)}),i.on("change.styler",function(){s.removeClass("selected");var t=[];u.filter(":selected").each(function(){t.push(e(this).data("optionIndex"))}),s.not(".optgroup").filter(function(o){return e.inArray(o,t)>-1}).addClass("selected")}).on("focus.styler",function(){a.addClass("focused")}).on("blur.styler",function(){a.removeClass("focused")}),d>a.height()&&i.on("keydown.styler",function(e){38!=e.which&&37!=e.which&&33!=e.which||n.scrollTop(n.scrollTop()+s.filter(".selected").position().top-h),40!=e.which&&39!=e.which&&34!=e.which||n.scrollTop(n.scrollTop()+s.filter(".selected:last").position().top-n.innerHeight()+2*h)}))}var u=e("option",i),p="";if(i.is("[multiple]")){if(s||n)return;d()}else c()};u(),i.on("refresh",function(){i.off(".styler").parent().before(i).remove(),u()})}else i.is(":reset")&&i.on("click",function(){setTimeout(function(){i.closest("form").find("input, select").trigger("refresh")},1)})},destroy:function(){var t=e(this.element);t.is(":checkbox")||t.is(":radio")?(t.removeData("_"+i).off(".styler refresh").removeAttr("style").parent().before(t).remove(),t.closest("label").add('label[for="'+t.attr("id")+'"]').off(".styler")):t.is('input[type="number"]')?t.removeData("_"+i).off(".styler refresh").closest(".jq-number").before(t).remove():(t.is(":file")||t.is("select"))&&t.removeData("_"+i).off(".styler refresh").removeAttr("style").parent().before(t).remove()}},e.fn[i]=function(o){var a=arguments;if(void 0===o||"object"==typeof o)return this.each(function(){e.data(this,"_"+i)||e.data(this,"_"+i,new t(this,o))}).promise().done(function(){var t=e(this[0]).data("_"+i);t&&t.options.onFormStyled.call()}),this;if("string"==typeof o&&"_"!==o[0]&&"init"!==o){var n;return this.each(function(){var s=e.data(this,"_"+i);s instanceof t&&"function"==typeof s[o]&&(n=s[o].apply(s,Array.prototype.slice.call(a,1)))}),void 0!==n?n:this}},o.registered=!1});